[二值量化 · 语雀 (yuque.com)](https://www.yuque.com/yahei/hey-yahei/binary_quantization)
[仅使用移位运算或者异或非运算的低精度量化神经网络 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/113189833)
[MVision/CNN/Deep_Compression/quantization at master · Ewenwan/MVision (github.com)](https://github.com/Ewenwan/MVision/tree/master/CNN/Deep_Compression/quantization)

## 什么是浮点数/定点数？

在现实生活中，我们经常使用整数和小数，不知道你有没有思考过，这些数字在计算机中是如何存储的？

我们学习计算机知识时，经常听到「定点数」和「浮点数」，它们之间有什么区别？

平时说到整数，我们就说它是一个定点数，说到小数，就说它是一个浮点数，这种说法是正确的吗？

### 定点数介绍
首先介绍什么是 **定点数**

我们都知道，数字既包括整数，又包括小数，而小数的精度范围要比整数大得多，所以如果我们想在计算机中，既能表示整数，也能表示小数，关键就在于这个**小数点**如何表示？

于是人们想出一种方法，即**约定计算机中小数点的位置**，且这个位置固定不变，小数点前、后的数字，分别用二进制表示，然后组合起来就可以把这个数字在计算机中存储起来，这种表示方式叫做「定点」表示法，用这种方法表示的数字叫做「定点数」。

也就是说「定」是指固定的意思，「点」是指小数点，**小数点位置固定**即定点数名字的由来。

### 定点数如何表示数字
定点数如果要表示整数或小数，分为以下三种情况：

1.  纯整数：例如整数100，小数点其实在最后一位，所以忽略不写
2.  纯小数：例如：0.123，小数点固定在最高位
3.  整数+小数：例如1.24、10.34，小数点在指定某个位置

对于前两种情况，纯整数和纯小数，因为小数点固定在最低位和最高位，所以它们用定点数表示时，原理是相同的，只需要把整数部分、小数部分，按照十进制转二进制的规则，分别转换即可。

而对于整数 + 小数的情况，用定点表示时，需要**约定**小数点的位置，才能在计算机中表示。

注意，定点数并不一定是整数，所谓定点，指的是小数点的位置是固定的，即小数位数是固定的。

### 浮点数介绍

之前我们学习了定点数，其中「定点」指的是约定小数点位置固定不变。那浮点数的「浮点」就是指，其小数点的位置是可以是**漂浮不定**的。

这怎么理解呢？

其实，浮点数是采用科学计数法的方式来表示的，例如十进制小数 8.345，用科学计数法表示，可以有多种方式：

```text
8.345 = 8.345 * 10^0
8.345 = 83.45 * 10^-1
8.345 = 834.5 * 10^-2
...
```

这种科学计数法的方式表示小数时，小数点的位置就变得「漂浮不定」了，这就是相对于定点数，浮点数名字的由来。

使用同样的规则，对于二进制数，我们也可以用科学计数法表示，也就是说把基数 10 换成 2 即可。

## 后训练量化
所谓后训练量化就是指， 一开始训练一个全精度网络模型
然后对网络进行量化
然后用一些测试数据来估计min、max，然后把量化参数固定下来进行全量化推理